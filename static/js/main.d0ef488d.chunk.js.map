{"version":3,"sources":["store/go/actions.js","store/go/reducer.js","store/go/redux.js","store/go/handlers.js","store/go/index.js","store/go/container.js","store/index.js","components/App/App.js","components/App/index.js","components/LandingPage/LandingPage.js","components/LandingPage/index.js","utils/ipfs-helpers.js","utils/orbit-helpers.js","utils/board.js","components/GamePage/GamePage.js","components/GamePage/index.js","components/LobbyPage/LobbyPage.js","components/LobbyPage/index.js","components/BoardIntersection/index.js","components/BoardIntersection/BoardIntersection.js","constants/index.js","components/BoardView/index.js","components/BoardView/BoardView.js","components/PassView/index.js","components/PassView/PassView.js","components/NewGame/index.js","components/NewGame/NewGame.js","components/CapturesView/index.js","components/CapturesView/CapturesView.js","components/ContainerView/ContainerView.js","components/NewGameDialog/NewGameDialog.js","components/NewGameDialog/index.js","components/IPFSPubSubChat/IPFSPubSubChat.js","components/IPFSPubSubChat/index.js","components/PageNavigation/PageNavigation.js","components/PageNavigation/index.js","components/PlayerProfile/PlayerProfile.js","components/PlayerProfile/index.js","serviceWorker.js","index.js"],"names":["playerProfileUpdated","createAction","_ref","peerId","playerName","playerEmoji","chatMessageReceived","_ref2","from","content","timestamp","selfPeerInfo","_ref3","peerInfo","gameInvitationRecieved","_ref4","gameInvitationAccepted","_ref5","nonce","players","handleActions","_handleActions","Object","defineProperty","state","payload","objectSpread","messages","toConsumableArray","concat","game","invitation","version","connect","go","router","actions","withHandlers","navigateTo","asyncToGenerator","regenerator_default","a","mark","_callee","path","wrap","_context","prev","next","history","push","stop","this","_x","apply","arguments","sendMessage","_callee2","room","message","_context2","JSON","stringify","action","broadcast","_x2","updatePlayerProfile","_ref6","_callee3","_context3","_x3","saveDTO","_ref8","_callee4","_ref7","db","dto","opponent","_context4","put","_id","sendTo","_x4","deleteDTO","_ref10","_callee5","_ref9","_context5","del","_x5","sendGameInvite","_ref11","_ref13","_callee6","_ref12","_context6","to","_x6","acceptGameInvite","_ref14","_ref16","_callee7","_ref15","_context7","_x7","store_go","reducer","container","compose","withRedux","createBrowserHistory","rootReducer","connectRouter","appReducers","persistConfig","key","blacklist","storage","store","createStore","persistReducer","combineReducers","composeWithDevTools","applyMiddleware","thunk","routerMiddleware","persistor","persistStore","App","react_default","createElement","es","integration_react","lib","Switch","Route","exact","render","components_LandingPage","components_LobbyPage","components_GamePage","Component","LandingPage","className","Button_default","variant","color","onClick","ipfs","window","Ipfs","repo","EXPERIMENTAL","pubsub","config","Addresses","Swarm","getIPFS","Promise","resolve","reject","on","OrbitDB","require","getOrbitDB","orbitdb","abrupt","sent","undefined","playHistoryX","playHistoryY","Board","_this","size","board","last_move_passed","in_atari","attempted_suicide","captures","capturesArrayBlack","capturesArrayWhite","moveCount","moveCountArray","last_move_undo","current_color","classCallCheck","getDataTransferObject","parse","create_board","m","i","j","EMPTY","reset","BLACK","switch_player","WHITE","pass","end_game","undo","length","_this$history$pop","pop","is_valid_state","n","play","captured","neighbors","get_adjacent_intersections","atari","self","_","each","group","get_group","turnBlack","turnWhite","isEmpty","stone","cloneDeep","visited","visited_list","queue","count","func","liberties","stones","Room","playerColorStringToInt","peerIdToProfileAttribute","attr","GamePage","ready","props","pathname","location","orbitDBAddress","replace","roomName","split","_ipfs","id","open","load","get","name","peer","_JSON$parse","data","console","log","_this2","setState","pollTillPresent","setInterval","_room$getPeers","_room$getPeers2","_colors","getPeers","slicedToArray","sort","you","colors","clearInterval","_this3","_this$props2","_this$state","components_PageNavigation","Paper_default","style","padding","marginBottom","components_PlayerProfile","components_BoardView","currentPlayer","onPlay","CircularProgress_default","LobbyPage","peers","handleChange","event","target","value","parsedMessage","newGameDB","gameAddress","create","replicate","overwrite","write","address","toString","isProfileReady","isLobbyReady","Grid_default","spacing","item","xs","md","map","components_IPFSPubSubChat","components_NewGameDialog","BoardIntersection","handleClick","row","col","top","left","backgroundColor","_PLAYER_ONE_COLOR","_PLAYER_TWO_COLOR","backgroundImage","_PLAYER_ONE_IMAGE","_PLAYER_TWO_IMAGE","classes","BoardView","intersections","components_BoardIntersection","assign","width","height","PassView","e","type","NewGame","reload","onReset","CapturesView","capturesArray","textCaptures","reduce","b","NewGameDialog","nextProps","keys","_this$props","Dialog_default","onClose","handleClose","aria-labelledby","aria-describedby","DialogTitle_default","DialogContent_default","DialogContentText_default","DialogActions_default","Math","random","autoFocus","React","IPFSPubSubChat","scrollToBottomOfChat","setTimeout","document","querySelector","scrollTop","scrollHeight","round","Date","getTime","chatMessage","List_default","maxHeight","overflowY","mood","ListItem_default","alignItems","ListItemText_default","primary","secondary","Fragment","Typography_default","component","display","flexWrap","TextField_default","label","fullWidth","onChange","margin","ResponsiveDrawer","mobileOpen","handleDrawerToggle","theme","drawer","toolbar","Divider_default","button","ListItemIcon_default","HomeOutlined_default","GamepadOutlined_default","root","CssBaseline_default","AppBar_default","position","appBar","Toolbar_default","IconButton_default","aria-label","menuButton","Menu_default","noWrap","Hidden_default","smUp","implementation","Drawer_default","anchor","direction","paper","drawerPaper","xsDown","children","withStyles","breakpoints","up","flexShrink","marginLeft","marginRight","mixins","flexGrow","unit","withTheme","PageNavigation","moods","PlayerProfile","safePlayerProfileUpdate","sendProfileToPeers","debounce","profile","substring","select","option","MenuItem_default","Boolean","hostname","match","ReactDOM","components_App","getElementById","navigator","serviceWorker","then","registration","unregister"],"mappings":"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","file":"static/js/main.d0ef488d.chunk.js","sourcesContent":["import { createAction } from \"redux-actions\";\n\nexport const playerProfileUpdated = createAction(\n  \"go/PLAYER_PROFILE_UPDATED\",\n  ({ peerId, playerName, playerEmoji }) => ({\n    peerId,\n    playerName,\n    playerEmoji\n  })\n);\n\nexport const chatMessageReceived = createAction(\n  \"go/CHAT_MESSAGE_RECEIVED\",\n  ({ from, content, timestamp }) => ({\n    from,\n    content,\n    timestamp\n  })\n);\n\nexport const selfPeerInfo = createAction(\n  \"go/SELF_PEER_INFO\",\n  ({ peerInfo }) => ({\n    peerInfo\n  })\n);\n\nexport const gameInvitationRecieved = createAction(\n  \"go/GAME_INVITATION_RECEIVED\",\n  ({ from }) => ({\n    from\n  })\n);\n\nexport const gameInvitationAccepted = createAction(\n  \"go/GAME_INVITATION_ACCEPTED\",\n  ({ nonce, players }) => ({\n    nonce,\n    players\n  })\n);\n","import { handleActions } from \"redux-actions\";\n\nimport {\n  selfPeerInfo,\n  gameInvitationRecieved,\n  gameInvitationAccepted,\n  playerProfileUpdated,\n  chatMessageReceived\n} from \"./actions\";\n\nconst initialState = {\n  version: 0,\n  players: {},\n  invitation: {},\n  game: {},\n  messages: [] //require('./__fixtures__/messages').default.messages\n};\n\nexport default handleActions(\n  {\n    [selfPeerInfo]: (state, { payload }) => ({\n      ...state,\n      ...payload\n    }),\n    [chatMessageReceived]: (state, { payload }) => ({\n      ...state,\n      messages: [...state.messages, payload]\n    }),\n    [playerProfileUpdated]: (state, { payload }) => ({\n      ...state,\n      players: {\n        ...state.players,\n        [payload.peerId]: {\n          ...payload\n        }\n      }\n    }),\n    [gameInvitationAccepted]: (state, { payload }) => ({\n      ...state,\n      game: {\n        ...payload\n      }\n    }),\n    [gameInvitationRecieved]: (state, { payload }) => ({\n      ...state,\n      invitation: {\n        ...payload\n      }\n    })\n  },\n  initialState\n);\n","import { connect } from \"react-redux\";\n\nimport * as actions from \"./actions\";\n\nexport default connect(\n  ({ go, router }) => ({ go, router }),\n  {\n    ...actions\n  }\n);\n","import { withHandlers } from \"recompose\";\nimport { history } from \"../index\";\n\nexport default withHandlers({\n  navigateTo: () => async ({ path }) => {\n    history.push(path);\n  },\n  sendMessage: () => async ({ room, payload }) => {\n    const message = JSON.stringify({\n      action: \"chat:message:sent\",\n      payload\n    });\n    await room.broadcast(message);\n  },\n  updatePlayerProfile: () => async ({ room, payload }) => {\n    const message = JSON.stringify({\n      action: \"lobby:player:profileUpdated\",\n      payload\n    });\n    await room.broadcast(message);\n  },\n  saveDTO: () => async ({ db, room, dto, opponent }) => {\n    await db.put({\n      _id: \"dto:latest\",\n      ...dto\n    });\n    const message = JSON.stringify({\n      action: \"game:dto:saved\",\n      payload: {\n        dto\n      }\n    });\n    await room.sendTo(opponent, message);\n    // alert(\"dto saved.\");\n  },\n  deleteDTO: () => async ({ db, room, dto, opponent }) => {\n    await db.del(\"dto:latest\");\n    const message = JSON.stringify({\n      action: \"game:dto:deleted\",\n      payload: {\n        dto\n      }\n    });\n    await room.sendTo(opponent, message);\n    // alert(\"dto deleted.\");\n  },\n  sendGameInvite: ({ gameInvitationAccepted }) => async ({ room, payload }) => {\n    const message = JSON.stringify({\n      action: \"game:invite\",\n      payload\n    });\n    room.sendTo(payload.to, message);\n  },\n  acceptGameInvite: ({ gameInvitationAccepted }) => async ({\n    room,\n    payload\n  }) => {\n    const message = JSON.stringify({\n      action: \"game:invite:accepted\",\n      payload\n    });\n    // you are player 0, they are player 1\n    // todo: establish colors and initialize game deterministically from invite.\n    room.sendTo(payload.players[1], message);\n    gameInvitationAccepted(payload);\n  }\n});\n","import * as actions from \"./actions\";\nimport reducer from \"./reducer\";\nimport container from \"./container\";\n\nexport default {\n  actions,\n  reducer,\n  container\n};\n","import { compose } from 'recompose';\n\nimport withRedux from './redux';\nimport withHandlers from './handlers';\n\nexport default compose(\n  withRedux,\n  withHandlers,\n);","import { createStore, combineReducers, applyMiddleware } from \"redux\";\nimport { persistStore, persistReducer } from \"redux-persist\";\nimport { createBrowserHistory } from \"history\";\nimport { connectRouter, routerMiddleware } from \"connected-react-router\";\n\nimport storage from \"redux-persist/lib/storage\";\n\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunk from \"redux-thunk\";\n\nimport go from \"./go\";\n\nexport const history = createBrowserHistory();\n\nconst rootReducer = {\n  go: go.reducer,\n  router: connectRouter(history)\n};\n\nexport default appReducers => {\n  // Persistance configuration\n  const persistConfig = {\n    key: \"root\",\n    blacklist: [\"go\"],\n    storage\n  };\n\n  // Store.\n  const store = createStore(\n    persistReducer(\n      persistConfig,\n      combineReducers({ ...rootReducer, ...appReducers })\n    ),\n    composeWithDevTools(applyMiddleware(thunk, routerMiddleware(history)))\n  );\n\n  // Persistor.\n  const persistor = persistStore(store);\n  return {\n    store,\n    persistor,\n    history\n  };\n};\n","import React, { Component } from \"react\";\n\nimport { Provider } from \"react-redux\";\nimport { PersistGate } from \"redux-persist/lib/integration/react\";\nimport createStore from \"../../store\";\n\nimport { Route, Switch } from \"react-router\"; // react-router v4\nimport { ConnectedRouter } from \"connected-react-router\";\n\nimport \"./App.css\";\n\nimport { GamePage, LandingPage, LobbyPage } from \"../index\";\n\nconst { store, persistor, history } = createStore();\n\nclass App extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <PersistGate persistor={persistor}>\n          <ConnectedRouter history={history}>\n            <Switch>\n              <Route exact path=\"/\" render={() => <LandingPage />} />\n              <Route exact path=\"/lobby\" render={() => <LobbyPage />} />\n              <Route path=\"/game\" render={() => <GamePage />} />\n              {/* <Route exact path=\"/game\" render={() => <GamePage />} /> */}\n              <Route render={() => <div>Miss</div>} />\n            </Switch>\n          </ConnectedRouter>\n        </PersistGate>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n","import App from \"./App\";\nexport default App;\n","import React, { Component } from \"react\";\nimport Button from \"@material-ui/core/Button\";\n\nclass LandingPage extends Component {\n  render() {\n    return (\n      <div className=\"LandingPage\">\n        <Button variant=\"contained\" color=\"primary\" onClick={async () => {}}>\n          New Game\n        </Button>\n      </div>\n    );\n  }\n}\n\nexport default LandingPage;\n","import LandingPage from \"./LandingPage\";\n\nimport go from \"../../store/go\";\n\nexport default go.container(LandingPage);\n","const ipfsOptions = {\n  repo: \"/orbitdb/go\",\n  // start: true,\n  EXPERIMENTAL: {\n    pubsub: true\n  },\n  config: {\n    Addresses: {\n      Swarm: [\n        // Use IPFS dev signal server\n        // \"/dns4/star-signal.cloud.ipfs.team/wss/p2p-webrtc-star\"\n        // \"/dns4/ws-star.discovery.libp2p.io/tcp/443/wss/p2p-websocket-star\"\n        \"/dns4/ws-star.discovery.libp2p.io/tcp/443/wss/p2p-websocket-star\"\n        // Use local signal server\n        // '/ip4/0.0.0.0/tcp/9090/wss/p2p-webrtc-star',\n      ]\n    }\n  }\n};\n\nconst ipfs = new window.Ipfs(ipfsOptions);\n\nconst getIPFS = () => {\n  if (window.ipfs) {\n    return Promise.resolve(window.ipfs);\n  }\n  return new Promise((resolve, reject) => {\n    ipfs.on(\"ready\", async () => {\n      window.ipfs = ipfs;\n      resolve(ipfs);\n    });\n  });\n};\n\nexport default getIPFS;\n","import getIPFS from \"./ipfs-helpers\";\n\nconst OrbitDB = require(\"orbit-db\");\n\nconst getOrbitDB = async () => {\n  if (window.orbitdb) {\n    return Promise.resolve(window.orbitdb);\n  }\n\n  const ipfs = await getIPFS();\n  const orbitOptions = undefined;\n  const orbitdb = new OrbitDB(ipfs, \"./orbitdb\", orbitOptions);\n  if (!window.orbitdb) {\n    window.orbitdb = orbitdb;\n  }\n  return Promise.resolve(window.orbitdb);\n};\n\nexport { getOrbitDB };\n","import _ from \"lodash\";\n\nvar playHistoryX = [];\nvar playHistoryY = [];\n\nclass Board {\n  static EMPTY = 0;\n  static BLACK = 1;\n  static WHITE = 2;\n\n  constructor({\n    size,\n    board,\n    last_move_passed,\n    in_atari,\n    attempted_suicide,\n    history,\n    captures,\n    capturesArrayBlack,\n    capturesArrayWhite,\n    moveCount,\n    moveCountArray,\n    last_move_undo,\n    current_color\n  }) {\n    if (size) {\n      this.size = size;\n      this.board = this.create_board(size);\n    }\n    if (board) {\n      this.size = board[0].length;\n      this.board = board;\n    }\n    this.current_color = current_color || Board.BLACK;\n    this.last_move_passed = last_move_passed || false;\n    this.in_atari = in_atari || false;\n    this.attempted_suicide = attempted_suicide || false;\n    this.history = history || [];\n    this.captures = captures || [];\n    this.capturesArrayBlack = capturesArrayBlack || [];\n    this.capturesArrayWhite = capturesArrayWhite || [];\n    this.moveCount = moveCount || 0;\n    this.moveCountArray = moveCountArray || [];\n    this.last_move_undo = last_move_undo || false;\n  }\n\n  getDataTransferObject = () => {\n    return {\n      ...JSON.parse(JSON.stringify(this))\n    };\n  };\n\n  /*\n   * Returns a size x size matrix with all entries initialized to Board.EMPTY\n   */\n  create_board = function(size) {\n    var m = [];\n    for (var i = 0; i < size; i++) {\n      m[i] = [];\n      for (var j = 0; j < size; j++) m[i][j] = Board.EMPTY;\n    }\n    return m;\n  };\n\n  reset = function() {\n    this.current_color = Board.BLACK;\n    this.board = this.create_board(this.size);\n    this.last_move_passed = false;\n    this.in_atari = false;\n    this.attempted_suicide = false;\n    this.history = [];\n    this.captures = [];\n    this.moveCount = 0;\n    this.moveCountArray = [];\n    this.last_move_undo = false;\n  };\n\n  /*\n   * Switches the current player\n   */\n  switch_player = function() {\n    this.current_color =\n      this.current_color === Board.BLACK ? Board.WHITE : Board.BLACK;\n  };\n\n  /*\n   * At any point in the game, a player can pass and let his opponent play\n   */\n  pass = function() {\n    if (this.last_move_passed) this.end_game();\n    this.last_move_passed = true;\n    this.switch_player();\n  };\n\n  /*\n   * At any point in the game, a player can undo and let his opponent play\n   */\n  undo = function() {\n    if (this.history.length) {\n      const { board, current_color } = this.history.pop();\n      this.board = board;\n      this.current_color = current_color;\n      // console.log(\"board undo\", this);\n    } else {\n      // console.log(\"no history\");\n    }\n  };\n\n  /*\n   * Called when the game ends (both players passed)\n   */\n  end_game = function() {\n    // console.log(\"GAME OVER\");\n  };\n\n  is_valid_state = function(history) {\n    // console.log(\"history length \" + this.history.length);\n    const state = JSON.stringify(this.board);\n    // console.log(\"Im checking if current state is valid\");\n    for (\n      var n = 0;\n      this.moveCountArray[this.moveCountArray.length - 1] >\n        this.moveCountArray[this.moveCountArray.length - 2] &&\n      this.moveCount > 0 &&\n      n < history.length;\n      n = n + 1\n    ) {\n      if (JSON.stringify(history[n].board) === state) {\n        // console.log(\"INVALIDDDD\");\n        return false;\n      }\n    }\n    return true;\n  };\n\n  /*\n   * Attempt to place a stone at (i,j). Returns true iff the move was legal\n   */\n  play = function(i, j) {\n    playHistoryX.push(i);\n    playHistoryY.push(j);\n    this.moveCount++;\n    // console.log(this.moveCount);\n    this.moveCountArray.push(this.moveCount);\n    // console.log(\"Played at \" + i + \", \" + j);\n    this.attempted_suicide = this.in_atari = false;\n    if (\n      playHistoryX[playHistoryX.length - 1] ===\n        playHistoryX[playHistoryX.length - 2] &&\n      playHistoryY[playHistoryY.length - 1] ===\n        playHistoryY[playHistoryY.length - 2]\n    ) {\n      // console.log(\"ko rule\");\n      this.moveCount--;\n      return false;\n    }\n    if (this.board[i][j] !== Board.EMPTY) {\n      // console.log(\"INVALID MOVE\");\n      return false;\n    }\n    var color = (this.board[i][j] = this.current_color);\n    var captured = [];\n    var neighbors = this.get_adjacent_intersections(i, j);\n    var atari = false;\n\n    var self = this;\n    _.each(neighbors, function(n) {\n      var state = self.board[n[0]][n[1]];\n      if (state !== Board.EMPTY && state !== color) {\n        var group = self.get_group(n[0], n[1]);\n        // console.log(group);\n        if (group[\"liberties\"] === 0) captured.push(group);\n        else if (group[\"liberties\"] === 1) atari = true;\n      }\n    });\n\n    var turnBlack = 0;\n    var turnWhite = 0;\n\n    // detect suicide\n    if (_.isEmpty(captured) && this.get_group(i, j)[\"liberties\"] === 0) {\n      this.board[i][j] = Board.EMPTY;\n      this.attempted_suicide = true;\n      return false;\n    }\n\n    _.each(captured, function(group) {\n      _.each(group[\"stones\"], function(stone) {\n        self.board[stone[0]][stone[1]] = Board.EMPTY;\n        if (color === 1) {\n          turnBlack++;\n        } else if (color === 2) {\n          turnWhite++;\n        }\n      });\n    });\n    this.capturesArrayBlack.push(turnBlack);\n    this.capturesArrayWhite.push(turnWhite);\n\n    if (atari) this.in_atari = true;\n\n    this.last_move_passed = false;\n    this.switch_player();\n    const state = {\n      current_color: this.current_color,\n      board: _.cloneDeep(self.board)\n    };\n    this.history.push(state);\n    // console.log(\"history\", this.history);\n    return true;\n  };\n\n  /*\n   * Given a board position, returns a list of [i,j] coordinates representing\n   * orthagonally adjacent intersections\n   */\n  get_adjacent_intersections = function(i, j) {\n    var neighbors = [];\n    if (i > 0) neighbors.push([i - 1, j]);\n    if (j < this.size - 1) neighbors.push([i, j + 1]);\n    if (i < this.size - 1) neighbors.push([i + 1, j]);\n    if (j > 0) neighbors.push([i, j - 1]);\n    return neighbors;\n  };\n\n  /*\n   * Performs a breadth-first search about an (i,j) position to find recursively\n   * orthagonally adjacent stones of the same color (stones with which it shares\n   * liberties). Returns null for if there is no stone at the specified position,\n   * otherwise returns an object with two keys: \"liberties\", specifying the\n   * number of liberties the group has, and \"stones\", the list of [i,j]\n   * coordinates of the group's members.\n   */\n  get_group = function(i, j) {\n    var color = this.board[i][j];\n    if (color === Board.EMPTY) return null;\n\n    var visited = {}; // for O(1) lookups\n    var visited_list = []; // for returning\n    var queue = [[i, j]];\n    var count = 0;\n\n    let func = function(n) {\n      var state = self.board[n[0]][n[1]];\n      if (state === Board.EMPTY) count++;\n      if (state === color) queue.push([n[0], n[1]]);\n    };\n\n    while (queue.length > 0) {\n      var stone = queue.pop();\n      if (visited[stone]) continue;\n\n      var neighbors = this.get_adjacent_intersections(stone[0], stone[1]);\n      var self = this;\n\n      _.each(neighbors, func);\n\n      visited[stone] = true;\n      visited_list.push(stone);\n    }\n\n    return {\n      liberties: count,\n      stones: visited_list\n    };\n  };\n}\n\nexport default Board;\n","import React, { Component } from \"react\";\n\nimport Button from \"@material-ui/core/Button\";\nimport Paper from \"@material-ui/core/Paper\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { getOrbitDB } from \"../../utils/orbit-helpers\";\n\nimport { PageNavigation, PlayerProfile, BoardView } from \"../index\";\n\nimport Board from \"../../utils/board\";\n\nconst Room = require(\"ipfs-pubsub-room\");\n\nconst BOARD_SIZE = 5;\n\nconst playerColorStringToInt = color => {\n  return color === \"black\" ? 1 : 2;\n};\n\nconst peerIdToProfileAttribute = (players, peerId, attr) => {\n  if (players && players[peerId]) {\n    return players[peerId][attr];\n  }\n  return \"\";\n};\n\nclass GamePage extends Component {\n  state = {\n    ready: false\n  };\n  async componentWillMount() {\n    const { router, selfPeerInfo, playerProfileUpdated } = this.props;\n    const { pathname } = router.location;\n    const orbitDBAddress = pathname.replace(\"/game\", \"\");\n    const roomName = orbitDBAddress.split(\"/\")[3];\n    const orbitdb = await getOrbitDB();\n    const peerInfo = await orbitdb._ipfs.id();\n    selfPeerInfo({ peerInfo });\n    const room = Room(orbitdb._ipfs, roomName);\n    this.orbitdb = orbitdb;\n    this.room = room;\n    this.peerId = peerInfo.id;\n    this.db = await orbitdb.open(orbitDBAddress);\n    await this.db.load();\n    const dto = await this.db.get(\"dto:latest\")[0];\n    // console.log(\"loaded dto: \", dto);\n    if (dto === undefined) {\n      this.board = new Board({ size: BOARD_SIZE });\n      const dto = this.board.getDataTransferObject();\n      await this.db.put({\n        _id: \"dto:latest\",\n        name: \"dto:latest\",\n        ...dto\n      });\n    } else {\n      this.board = new Board(dto);\n      // console.log(\"though it was loaded, it does not render...\", this.board);\n    }\n\n    room.on(\"peer joined\", async peer => {\n      // console.log(\"Peer joined the room\", peer);\n    });\n\n    room.on(\"peer left\", peer => {\n      // console.log(\"Peer left...\", peer);\n    });\n\n    // now started to listen to room\n    room.on(\"subscribed\", () => {\n      // console.log(\"Now connected!\");\n    });\n\n    room.on(\"message\", async message => {\n      const { action, payload } = JSON.parse(message.data);\n      console.log(\"message...\", message, action, payload);\n\n      if (action === \"lobby:player:profileUpdated\") {\n        playerProfileUpdated({\n          ...payload\n        });\n      }\n\n      if (action === \"game:dto:saved\") {\n        this.board = new Board(payload.dto);\n        this.setState({\n          board: this.board\n        });\n      }\n      if (action === \"game:dto:deleted\") {\n        this.board = new Board(payload.dto);\n        this.setState({\n          board: this.board\n        });\n      }\n    });\n\n    const pollTillPresent = setInterval(async () => {\n      const [opponent] = room.getPeers();\n\n      if (opponent) {\n        const players = [peerInfo.id, opponent].sort();\n        this.setState({\n          ready: true,\n          opponent,\n          you: peerInfo.id,\n          colors: {\n            [players[0]]: \"white\",\n            [players[1]]: \"black\"\n          }\n        });\n        clearInterval(pollTillPresent);\n      }\n    }, 1 * 1000);\n  }\n  render() {\n    const { go, saveDTO, deleteDTO } = this.props;\n    const { ready, colors, you, opponent } = this.state;\n\n    if (!ready) {\n      return <CircularProgress />;\n    }\n\n    return (\n      <div className=\"GamePage\">\n        <PageNavigation>\n          <Paper style={{ padding: \"16px\", marginBottom: \"16px\" }}>\n            <PlayerProfile room={this.room} peerId={this.peerId} />\n          </Paper>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={async () => {\n              saveDTO({\n                room: this.room,\n                db: this.db,\n                dto: this.board.getDataTransferObject(),\n                opponent\n              });\n            }}\n          >\n            Save Game\n          </Button>\n          &nbsp;\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={async () => {\n              this.board = new Board({ size: BOARD_SIZE });\n              const dto = this.board.getDataTransferObject();\n              await this.db.put({\n                _id: \"dto:latest\",\n                name: \"dto:latest\",\n                ...dto\n              });\n              this.setState({\n                board: this.board\n              });\n\n              deleteDTO({\n                room: this.room,\n                db: this.db,\n                dto,\n                opponent\n              });\n            }}\n          >\n            Reset Game\n          </Button>\n          <h3>\n            You are {colors[you]},{\" \"}\n            {peerIdToProfileAttribute(go.players, opponent, \"playerName\")} is{\" \"}\n            {colors[opponent]}\n          </h3>\n          <h3>\n            It is {\" \"}\n            {this.board.current_color === playerColorStringToInt(colors[you])\n              ? \"your turn\"\n              : `${peerIdToProfileAttribute(go.players, opponent, \"playerName\")}'s turn`}\n          </h3>\n          <BoardView\n            currentPlayer={playerColorStringToInt(colors[you])}\n            board={this.board}\n            onPlay={board => {\n              this.board = board;\n              // really any state update will cause a re-render after assignment..\n              this.setState({\n                board\n              });\n              saveDTO({\n                room: this.room,\n                db: this.db,\n                dto: this.board.getDataTransferObject(),\n                opponent\n              });\n            }}\n          />\n        </PageNavigation>\n      </div>\n    );\n  }\n}\n\nexport default GamePage;\n","import GamePage from \"./GamePage\";\n\nimport go from \"../../store/go\";\n\nexport default go.container(GamePage);\n","import React, { Component } from \"react\";\n\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport getIPFS from \"../../utils/ipfs-helpers\";\n\nimport { getOrbitDB } from \"../../utils/orbit-helpers\";\n\nimport Button from \"@material-ui/core/Button\";\n\nimport {\n  PageNavigation,\n  PlayerProfile,\n  NewGameDialog,\n  IPFSPubSubChat\n} from \"../index\";\n\nconst Room = require(\"ipfs-pubsub-room\");\n\nconst peerIdToProfileAttribute = (players, peerId, attr) => {\n  if (players && players[peerId]) {\n    return players[peerId][attr];\n  }\n  return peerId;\n};\n\nclass LobbyPage extends Component {\n  state = {\n    peers: []\n  };\n\n  handleChange = name => event => {\n    this.setState({\n      [name]: event.target.value\n    });\n  };\n  async componentWillMount() {\n    // console.log(this.props);\n    const {\n      selfPeerInfo,\n      playerProfileUpdated,\n      gameInvitationRecieved,\n      navigateTo\n    } = this.props;\n    const ipfs = await getIPFS();\n    const orbitdb = await getOrbitDB();\n    const peerInfo = await ipfs.id();\n    this.peerInfo = peerInfo;\n\n    selfPeerInfo({ peerInfo });\n    this.roomName = \"go.lobby\";\n    const room = Room(ipfs, this.roomName);\n    this.room = room;\n    this.ipfs = ipfs;\n    this.orbitdb = orbitdb;\n\n    // room.on(\"peer left\", peer => {\n    //   console.log(\"Peer left...\", peer);\n    // });\n\n    // now started to listen to room\n    // room.on(\"subscribed\", () => {\n    //   console.log(\"Now connected!\");\n    // });\n\n    room.on(\"message\", async message => {\n      const parsedMessage = JSON.parse(message.data);\n      // console.log(parsedMessage);\n      if (parsedMessage.action === \"lobby:player:profileUpdated\") {\n        playerProfileUpdated({\n          ...parsedMessage.payload\n        });\n      }\n      if (parsedMessage.action === \"game:invite\") {\n        gameInvitationRecieved({\n          from: message.from,\n          ...parsedMessage.payload\n        });\n      }\n      if (parsedMessage.action === \"game:invite:accepted\") {\n        // TODO update permissions to restrict players only\n        const newGameDB = await orbitdb.create(\n          `go.game.${parsedMessage.payload.nonce}`,\n          \"docstore\",\n          {\n            replicate: true,\n            overwrite: true,\n            write: [\"*\"]\n          }\n        );\n        const gameAddress = newGameDB.address.toString();\n        navigateTo({\n          path: `/game${gameAddress}`\n        });\n      }\n    });\n\n    setInterval(async () => {\n      this.setState({\n        peers: room.getPeers()\n      });\n    }, 5 * 1000);\n  }\n  render() {\n    const { peers } = this.state;\n    const { go, sendGameInvite } = this.props;\n\n    const { players } = go;\n\n    const isProfileReady = this.room && this.peerInfo.id;\n    const isLobbyReady = this.room && peers.length > 0;\n\n    // console.log(\"lobby render.\");\n\n    return (\n      <div className=\"LobbyPage\">\n        <PageNavigation>\n          <Grid container spacing={24}>\n            <Grid item xs={12}>\n              <Paper style={{ padding: \"16px\" }}>\n                {!isProfileReady && <CircularProgress />}\n                {isProfileReady && (\n                  <PlayerProfile room={this.room} peerId={this.peerInfo.id} />\n                )}\n              </Paper>\n            </Grid>\n\n            <Grid item xs={12} md={6}>\n              <Paper style={{ padding: \"16px\" }}>\n                {!isLobbyReady && <CircularProgress />}\n                {isLobbyReady && (\n                  <div>\n                    <h3> Ask for a game with: </h3>\n                    {peers.map(peerId => {\n                      return (\n                        <div key={peerId}>\n                          <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            onClick={async () => {\n                              const payload = {\n                                to: peerId\n                              };\n                              sendGameInvite({ room: this.room, payload });\n                            }}\n                          >\n                            {peerIdToProfileAttribute(\n                              players,\n                              peerId,\n                              \"playerEmoji\"\n                            )}\n                            &nbsp;{\" \"}\n                            {peerIdToProfileAttribute(\n                              players,\n                              peerId,\n                              \"playerName\"\n                            )}\n                          </Button>\n                        </div>\n                      );\n                    })}\n                  </div>\n                )}\n              </Paper>\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Paper style={{ padding: \"16px\" }}>\n                {!isLobbyReady && <CircularProgress />}\n                {isLobbyReady && <IPFSPubSubChat room={this.room} />}\n              </Paper>\n            </Grid>\n          </Grid>\n          <NewGameDialog room={this.room} orbitdb={this.orbitdb} />\n        </PageNavigation>\n      </div>\n    );\n  }\n}\n\nexport default LobbyPage;\n","import LobbyPage from \"./LobbyPage\";\n\nimport go from \"../../store/go\";\n\nexport default go.container(LobbyPage);\n","import BoardIntersection from \"./BoardIntersection\";\nexport default BoardIntersection;\n","import React, { Component } from \"react\";\n\nimport Board from \"../../utils/board\";\n\nimport { GRID_SIZE } from \"../../constants\";\n\nclass BoardIntersection extends Component {\n  handleClick = () => {\n    if (this.props.currentPlayer !== this.props.board.current_color){\n      console.log('not your turn!!!')\n      return;\n    }\n    if (this.props.board.play(this.props.row, this.props.col))\n      this.props.onPlay(this.props.board);\n  };\n  render() {\n    var style = {\n      top: this.props.row * GRID_SIZE,\n      left: this.props.col * GRID_SIZE,\n      backgroundColor:\n        this.props.color !== Board.EMPTY\n          ? this.props.color === Board.BLACK\n            ? window._PLAYER_ONE_COLOR\n            : window._PLAYER_TWO_COLOR\n          : undefined,\n      backgroundImage:\n        this.props.color !== Board.EMPTY\n          ? this.props.color === Board.BLACK\n            ? window._PLAYER_ONE_IMAGE\n            : window._PLAYER_TWO_IMAGE\n          : undefined\n    };\n\n    var classes = \"intersection\";\n    if (this.props.color !== Board.EMPTY)\n      classes += this.props.color === Board.BLACK ? \" black\" : \" white\";\n\n    return <div onClick={this.handleClick} className={classes} style={style} />;\n  }\n}\n\nexport default BoardIntersection;\n","export const GRID_SIZE = 40;\n","import BoardView from \"./BoardView\";\nexport default BoardView;\n","import React, { Component } from \"react\";\n\nimport { BoardIntersection } from \"../index\";\n\nimport { GRID_SIZE } from \"../../constants\";\n\nclass BoardView extends Component {\n  render() {\n    const { board } = this.props;\n    var intersections = [];\n    for (var i = 0; i < board.size; i++)\n      for (var j = 0; j < board.size; j++)\n        intersections.push(\n          <BoardIntersection\n            key={`${i}-${j}`}\n            {...{\n              board: board,\n              color: board.board[i][j],\n              row: i,\n              col: j,\n              currentPlayer: this.props.currentPlayer,\n              onPlay: this.props.onPlay\n            }}\n          />\n        );\n    var style = {\n      width: board.size * GRID_SIZE,\n      height: board.size * GRID_SIZE\n    };\n    return (\n      <div style={style} id=\"board\">\n        {intersections}\n      </div>\n    );\n  }\n}\n\nexport default BoardView;\n","import PassView from \"./PassView\";\nexport default PassView;\n","import React, { Component } from \"react\";\n\nclass PassView extends Component {\n  handleClick = e => {\n    this.props.board.pass();\n  };\n  render() {\n    return (\n      <input\n        id=\"pass-btn\"\n        type=\"button\"\n        value=\"Pass\"\n        onClick={this.handleClick}\n      />\n    );\n  }\n}\n\nexport default PassView;\n","import NewGame from \"./NewGame\";\nexport default NewGame;\n","import React, { Component } from \"react\";\n\nclass NewGame extends Component {\n  handleClick = e => {\n    window.location.reload(false);\n    this.props.board.reset();\n    this.props.onReset();\n  };\n\n  render() {\n    return (\n      <input\n        id=\"newgame-btn\"\n        type=\"button\"\n        value=\"New Game\"\n        onClick={this.handleClick}\n      />\n    );\n  }\n}\n\nexport default NewGame;\n","import CapturesView from \"./CapturesView\";\n\nexport default CapturesView;\n","import React, { Component } from \"react\";\n\nclass CapturesView extends Component {\n  render() {\n    let capturesArray =\n      this.props.color === \"black\"\n        ? this.props.board.capturesArrayBlack\n        : this.props.board.capturesArrayWhite;\n    var textCaptures =\n      `Captures by ${this.props.color}: ` +\n      capturesArray.reduce((a, b) => a + b, 0);\n    return <div id=\"alerts\">&nbsp;{textCaptures}&nbsp;</div>;\n  }\n}\n\nexport default CapturesView;\n","import React, { Component } from \"react\";\n// import _ from \"lodash\";\n\nimport { BoardView, PassView, NewGame, CapturesView } from \"../index\";\n\nclass ContainerView extends Component {\n\n  componentWillMount() {\n    console.log('container view mount....',)\n    this.setState({\n      board: this.props.board,\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    console.log('container view receive props....',)\n    this.setState({\n      board: nextProps.board\n    });\n  }\n\n  onBoardUpdate() {\n    // if (this.state.board.is_valid_state(this.state.history)) {\n    //   let history = this.state.history;\n    //   history.push(_.cloneDeep(this.state.board));\n    //   this.setState({ board: this.state.board, history: history });\n    //   console.log(\"board was updated and component shall render\");\n    // } else {\n    //   console.log(\"invalid move, reset to prior state\");\n    //   console.log(this.state.history.length);\n    //   var last = this.state.history[this.state.history.length - 1];\n    //   console.log(\"set board to\", last);\n    //   this.setState({ board: last });\n    //   this.state.history.pop();\n    //   console.log(this.state.history.length);\n    // }\n  }\n\n  undo = () => {\n    // var { history } = this.state;\n    // if (history.length <= 1) {\n    //   window.location.reload(false);\n    //   console.log(\"nothing to undo\");\n    //   return;\n    // }\n    // console.log(\"popping:\", history.pop());\n    // var last = history[history.length - 1];\n    // console.log(\"set board to\", last);\n    // this.setState({ board: last, history: history });\n    // this.props.board.capturesArrayBlack.pop();\n    // this.props.board.capturesArrayWhite.pop();\n    // this.moveCount--;\n    // console.log(\"board was updated and component shall render\");\n\n    // console.log(\"undo...\", this.state.history, this.state.board);\n  };\n\n  render() {\n    return (\n      <div className=\"ContainerView\">\n        <div className=\"ContainerViewBoard\">\n          <BoardView\n            board={this.state.board}\n            onPlay={this.onBoardUpdate.bind(this)}\n          />\n        </div>\n\n        <div className=\"ContainerViewSidebar\">\n          <a href=\"https://github.com/L1zz13/G0/\">Source Code</a>\n          <CapturesView board={this.state.board} color={\"black\"} />\n          <CapturesView board={this.state.board} color={\"white\"} />\n          <PassView board={this.state.board} />\n          <br />\n          <br />\n          <NewGame\n            board={this.state.board}\n            onReset={this.onBoardUpdate.bind(this)}\n          />\n          <br />\n          <br />\n          <button onClick={this.undo}>Undo</button>\n          <br />\n          <br />\n\n          <p>\n            Select Player 1 Color: <br />\n            <select\n              name=\"playerOneColor\"\n              onChange={e => {\n                console.log(e.target.value);\n                window._PLAYER_ONE_COLOR = e.target.value;\n              }}\n            >\n              <option name=\"default\" value=\"#5632a8\">\n                default\n              </option>\n              <option name=\"black\" value=\"#000000\">\n                black\n              </option>\n              <option name=\"red\" value=\"#D0112E\">\n                red\n              </option>\n              <option name=\"blue\" value=\"#4B98F9\">\n                blue\n              </option>\n              <option name=\"orange\" value=\"#FD9D16\">\n                orange\n              </option>\n            </select>\n          </p>\n          <p>\n            Select Player 2 Color: <br />\n            <select\n              name=\"playerTwoColor\"\n              onChange={e => {\n                console.log(e);\n                window._PLAYER_TWO_COLOR = e.target.value;\n              }}\n            >\n              <option name=\"default\" value=\"#fbfbca\">\n                default\n              </option>\n              <option name=\"default\" value=\"#ffffff\">\n                white\n              </option>\n              <option name=\"pale blue\" value=\"#C1F0FE\">\n                pale blue\n              </option>\n              <option name=\"lavender\" value=\"#E4C2FD\">\n                lavender\n              </option>\n              <option name=\"green\" value=\"#A1FD98\">\n                green\n              </option>\n            </select>\n          </p>\n\n          <p>\n            Select Player 1 Emoji: <br />\n            <select\n              name=\"playerOneImage\"\n              onChange={e => {\n                console.log(e.target.value);\n                window._PLAYER_ONE_IMAGE = e.target.value;\n              }}\n            >\n              <option name=\"default\" value=\"\">\n                none\n              </option>\n              <option\n                name=\"1\"\n                value=\"url('http://pages.kwanzoo.com/rs/358-EUI-570/images/pusheen-cat-donuts-black-small-2.png')\"\n              >\n                donut pusheen\n              </option>\n              <option\n                name=\"2\"\n                value=\"url('http://pages.kwanzoo.com/rs/358-EUI-570/images/pusheen-squid-black-SMALL.png')\"\n              >\n                squid pusheen\n              </option>\n              <option\n                name=\"3\"\n                value=\"url('http://pages.kwanzoo.com/rs/358-EUI-570/images/happyface-black-small-3.png')\"\n              >\n                happy face\n              </option>\n            </select>{\" \"}\n          </p>\n          <p>\n            Select Player 2 Emoji: <br />\n            <select\n              name=\"playerTwoImage\"\n              onChange={e => {\n                console.log(e.target.value);\n                window._PLAYER_TWO_IMAGE = e.target.value;\n              }}\n            >\n              <option name=\"default\" value=\"\">\n                none\n              </option>\n              <option\n                name=\"1\"\n                value=\"url('http://pages.kwanzoo.com/rs/358-EUI-570/images/pusheen-cat-cat-SMOL.png')\"\n              >\n                cat pusheen\n              </option>\n              <option\n                name=\"2\"\n                value=\"url('http://pages.kwanzoo.com/rs/358-EUI-570/images/pusheen-art-SMOL.png')\"\n              >\n                art pusheen\n              </option>\n              <option\n                name=\"3\"\n                value=\"url('http://pages.kwanzoo.com/rs/358-EUI-570/images/upside-down-happy-SMALL.png')\"\n              >\n                happy face\n              </option>\n            </select>\n          </p>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ContainerView;\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\n\n\nconst peerIdToProfileAttribute = (players, peerId, attr) => {\n  if (players && players[peerId]) {\n    return players[peerId][attr];\n  }\n  return \"\";\n};\n\nclass NewGameDialog extends React.Component {\n  state = {\n    open: false\n  };\n\n  componentWillReceiveProps(nextProps) {\n    if (\n      nextProps.go.invitation &&\n      nextProps.go.invitation.from &&\n      !Object.keys(nextProps.go.game).length\n    ) {\n      this.setState({\n        from: nextProps.go.invitation.from,\n        open: true\n      });\n    } else {\n      this.setState({\n        open: false\n      });\n    }\n  }\n\n  render() {\n    const { go, room, acceptGameInvite, navigateTo } = this.props;\n    const { from, open } = this.state;\n    return (\n      <div>\n        <Dialog\n          open={open}\n          onClose={this.handleClose}\n          aria-labelledby=\"alert-dialog-title\"\n          aria-describedby=\"alert-dialog-description\"\n        >\n          <DialogTitle id=\"alert-dialog-title\">{\"Game Invite\"}</DialogTitle>\n          <DialogContent>\n            <DialogContentText id=\"alert-dialog-description\">\n              Invitation from {peerIdToProfileAttribute(go.players, from, 'playerName')}.\n            </DialogContentText>\n          </DialogContent>\n          <DialogActions>\n            <Button\n              onClick={() => {\n                this.setState({ open: false });\n              }}\n              color=\"primary\"\n            >\n              Reject\n            </Button>\n            <Button\n              onClick={async () => {\n                const nonce = Math.random().toString(16);\n                acceptGameInvite({\n                  room,\n                  payload: {\n                    nonce,\n                    players: [go.peerInfo.id, go.invitation.from]\n                  }\n                });\n\n                const newGameDB = await this.props.orbitdb.create(\n                  `go.game.${nonce}`,\n                  \"docstore\",\n                  {\n                    replicate: true,\n                    overwrite: true,\n                    write: [\"*\"]\n                  }\n                );\n\n                const gameAddress = newGameDB.address.toString();\n\n                navigateTo({\n                  path: `/game${gameAddress}`\n                });\n              }}\n              color=\"primary\"\n              autoFocus\n            >\n              Accept\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </div>\n    );\n  }\n}\n\nexport default NewGameDialog;\n","import NewGameDialog from \"./NewGameDialog\";\nimport go from \"../../store/go\";\n\nexport default go.container(NewGameDialog);\n","import React, { Component } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\n\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst peerIdToProfileAttribute = (players, peerId, attr) => {\n  if (players && players[peerId]) {\n    return players[peerId][attr];\n  }\n  return \"\";\n};\n\nclass IPFSPubSubChat extends Component {\n  state = {\n    content: \"\",\n    messages: []\n  };\n  componentWillMount() {\n    const { room, chatMessageReceived } = this.props;\n    room.on(\"message\", async message => {\n      const parsedMessage = JSON.parse(message.data);\n      if (parsedMessage.action === \"chat:message:sent\") {\n        const chatMessage = {\n          ...parsedMessage.payload,\n          from: message.from\n        };\n        chatMessageReceived(chatMessage);\n      }\n    });\n  }\n\n  scrollToBottomOfChat = () => {\n    setTimeout(() => {\n      if (!document.querySelector(\".chatContainer\")) {\n        return;\n      }\n      document.querySelector(\n        \".chatContainer\"\n      ).scrollTop = document.querySelector(\".chatContainer\").scrollHeight;\n    }, 1 * 1000);\n  };\n\n  handleChange = name => event => {\n    this.setState({\n      [name]: event.target.value\n    });\n  };\n\n  sendMessage = () => {\n    this.props.sendMessage({\n      room: this.props.room,\n      payload: {\n        content: this.state.content,\n        timestamp: Math.round(new Date().getTime() / 1000)\n      }\n    });\n    this.setState({\n      content: \"\"\n    });\n  };\n\n  render() {\n    const { go } = this.props;\n    const { messages, players } = go;\n    return (\n      <div>\n        <h3>Chat</h3>\n        {!messages.length && <h5>No Messages</h5>}\n        <List\n          className=\"chatContainer\"\n          style={{\n            maxHeight: \"420px\",\n            overflowY: \"scroll\"\n          }}\n        >\n          {messages.map(m => {\n            const mood = peerIdToProfileAttribute(\n              players,\n              m.from,\n              \"playerEmoji\"\n            );\n            const name = peerIdToProfileAttribute(\n              go.players,\n              m.from,\n              \"playerName\"\n            );\n            return (\n              <ListItem key={m.timestamp} alignItems=\"flex-start\">\n                {mood}\n                <ListItemText\n                  primary={name}\n                  secondary={\n                    <React.Fragment>\n                      <Typography component=\"span\" color=\"textPrimary\">\n                        {m.content}\n                      </Typography>\n                    </React.Fragment>\n                  }\n                />\n              </ListItem>\n            );\n          })}\n          {this.scrollToBottomOfChat()}\n        </List>\n        <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\n          <TextField\n            label=\"Message\"\n            fullWidth\n            value={this.state.content}\n            onChange={this.handleChange(\"content\")}\n            margin=\"normal\"\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            fullWidth\n            onClick={this.sendMessage}\n          >\n            Send\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default IPFSPubSubChat;\n","import IPFSPubSubChat from \"./IPFSPubSubChat\";\n\nimport go from \"../../store/go\";\n\nexport default go.container(IPFSPubSubChat);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport HomeOutlinedIcon from \"@material-ui/icons/HomeOutlined\";\nimport GamepadOutlinedIcon from \"@material-ui/icons/GamepadOutlined\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst drawerWidth = 240;\n\nconst styles = theme => ({\n  root: {\n    display: \"flex\"\n  },\n  drawer: {\n    [theme.breakpoints.up(\"sm\")]: {\n      width: drawerWidth,\n      flexShrink: 0\n    }\n  },\n  appBar: {\n    marginLeft: drawerWidth,\n    [theme.breakpoints.up(\"sm\")]: {\n      width: `calc(100% - ${drawerWidth}px)`\n    }\n  },\n  menuButton: {\n    marginRight: 20,\n    [theme.breakpoints.up(\"sm\")]: {\n      display: \"none\"\n    }\n  },\n  toolbar: theme.mixins.toolbar,\n  drawerPaper: {\n    width: drawerWidth\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing.unit * 3\n  }\n});\n\nclass ResponsiveDrawer extends React.Component {\n  state = {\n    mobileOpen: false\n  };\n\n  handleDrawerToggle = () => {\n    this.setState(state => ({ mobileOpen: !state.mobileOpen }));\n  };\n\n  render() {\n    const { classes, theme } = this.props;\n\n    const drawer = (\n      <div>\n        <div className={classes.toolbar} />\n        <Divider />\n        <List>\n          <ListItem\n            button\n            onClick={() => {\n              this.props.navigateTo({\n                path: \"/\"\n              });\n            }}\n          >\n            <ListItemIcon>\n              <HomeOutlinedIcon />\n            </ListItemIcon>\n            <ListItemText primary={\"Home\"} />\n          </ListItem>\n          <ListItem\n            button\n            onClick={() => {\n              this.props.navigateTo({\n                path: \"/lobby\"\n              });\n            }}\n          >\n            <ListItemIcon>\n              <GamepadOutlinedIcon />\n            </ListItemIcon>\n            <ListItemText primary={\"Lobby\"} />\n          </ListItem>\n        </List>\n      </div>\n    );\n\n    return (\n      <div className={classes.root}>\n        <CssBaseline />\n        <AppBar position=\"fixed\" className={classes.appBar}>\n          <Toolbar>\n            <IconButton\n              color=\"inherit\"\n              aria-label=\"Open drawer\"\n              onClick={this.handleDrawerToggle}\n              className={classes.menuButton}\n            >\n              <MenuIcon />\n            </IconButton>\n            <Typography variant=\"h6\" color=\"inherit\" noWrap>\n              G0\n            </Typography>\n          </Toolbar>\n        </AppBar>\n        <nav className={classes.drawer}>\n          {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n          <Hidden smUp implementation=\"css\">\n            <Drawer\n              container={this.props.container}\n              variant=\"temporary\"\n              anchor={theme.direction === \"rtl\" ? \"right\" : \"left\"}\n              open={this.state.mobileOpen}\n              onClose={this.handleDrawerToggle}\n              classes={{\n                paper: classes.drawerPaper\n              }}\n            >\n              {drawer}\n            </Drawer>\n          </Hidden>\n          <Hidden xsDown implementation=\"css\">\n            <Drawer\n              classes={{\n                paper: classes.drawerPaper\n              }}\n              variant=\"permanent\"\n              open\n            >\n              {drawer}\n            </Drawer>\n          </Hidden>\n        </nav>\n        <main className={classes.content}>\n          <div className={classes.toolbar} />\n          {this.props.children}\n        </main>\n      </div>\n    );\n  }\n}\n\nResponsiveDrawer.propTypes = {\n  classes: PropTypes.object.isRequired,\n  // Injected by the documentation to work in an iframe.\n  // You won't need it on your project.\n  container: PropTypes.object,\n  theme: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles, { withTheme: true })(ResponsiveDrawer);\n","import PageNavigation from \"./PageNavigation\";\n\nimport go from \"../../store/go\";\n\nexport default go.container(PageNavigation);\n","import React, { Component } from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport TextField from \"@material-ui/core/TextField\";\n\nimport _ from \"lodash\";\n\nconst moods = [\n  {\n    value: \"😀\",\n    label: \"😀\"\n  },\n  {\n    value: \"😅\",\n    label: \"😅\"\n  },\n  {\n    value: \"😇\",\n    label: \"😇\"\n  },\n  {\n    value: \"🤔\",\n    label: \"🤔\"\n  },\n  {\n    value: \"😰\",\n    label: \"😰\"\n  }\n];\n\nclass PlayerProfile extends Component {\n  state = {\n    playerName: \"\",\n    playerEmoji: \"😀\"\n  };\n\n  handleChange = name => event => {\n    this.setState({\n      [name]: event.target.value\n    });\n    if (name === \"playerName\" || name === \"playerEmoji\") {\n      this.safePlayerProfileUpdate();\n    }\n  };\n\n  sendProfileToPeers = () => {\n    this.props.updatePlayerProfile({\n      room: this.props.room,\n      payload: {\n        peerId: this.props.peerId,\n        playerName: this.state.playerName,\n        playerEmoji: this.state.playerEmoji\n      }\n    });\n  };\n\n  safePlayerProfileUpdate = _.debounce(async () => {\n    this.sendProfileToPeers();\n  }, 1 * 1000);\n\n  componentWillMount() {\n    const profile = {\n      peerId: this.props.peerId,\n      playerName: this.props.peerId.substring(2, 6) + \"...\",\n      playerEmoji: \"😀\"\n    };\n    this.setState({\n      ...profile\n    });\n\n    this.safePlayerProfileUpdate();\n    \n    this.props.room.on(\"peer joined\", async peer => {\n      console.log(\"Peer joined the room\", peer);\n      this.sendProfileToPeers();\n    });\n    this.props.room.on(\"subscribed\", () => {\n      // console.log(\"Now connected!\");\n      this.sendProfileToPeers();\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <h3>Your Profile</h3>\n        <TextField\n          id=\"standard-select-currency\"\n          select\n          label=\"Mood\"\n          value={this.state.playerEmoji}\n          onChange={this.handleChange(\"playerEmoji\")}\n          margin=\"normal\"\n        >\n          {moods.map(option => (\n            <MenuItem key={option.value} value={option.value}>\n              {option.label}\n            </MenuItem>\n          ))}\n        </TextField>\n        &nbsp;&nbsp;\n        <TextField\n          label=\"Nickname\"\n          value={this.state.playerName}\n          onChange={this.handleChange(\"playerName\")}\n          margin=\"normal\"\n        />\n      </div>\n    );\n  }\n}\n\nexport default PlayerProfile;\n","import PlayerProfile from \"./PlayerProfile\";\nimport go from \"../../store/go\";\nexport default go.container(PlayerProfile);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { App } from \"./components\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}